var calculateCollision,calculateIntersection,getBounds,getColorForPercentage,getHeight,getParameterByName,getWidth,nearestNeighborScale,percentColors,snapValue;!function(e){var t;t=function(e,t,i){var n,o,r;return r=new SpriteSheet(e),o=new Sprite(r),n=new ButtonHelper(o,null,null,null,!0),o.addEventListener("click",i),this.name="Button",{sprite:o,helper:n}},e.Button=t}(window),function(e){var t,i,n,o,r,h;t=function(e,t,i,n){return this.initialize(e,t,i,n),this},h=void 0,i=void 0,o=void 0,r=0,n=0,t.prototype=new Container,t.prototype.initialize=function(e,t,n,o){var r,c;return this.type=n,this.max=t,this.width=e,i=new Graphics,i.setStrokeStyle(1,"square").beginStroke(o),"v"===n?i.r(0,0,e,t):i.r(0,0,t,e),r=new Shape(i),this.addChild(r),h=new Graphics,h.beginFill(o),"v"===n?h.r(0,0,e,0):h.r(0,0,t,0),c=new Shape(h),this.addChild(c)},t.prototype.SetPercentage=function(e){return"v"===this.type?(e>1&&(e=1),h.clear().beginFill(getColorForPercentage(e)).r(0,0,this.width,e*this.max)):h.clear().beginFill(getColorForPercentage(e)).r(0,0,e*this.max,this.width)},t.prototype.Destroy=function(){return this.removeAllChildren()},e.BoxTimer=t}(window),getParameterByName=function(e){var t,i,n;return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i="[\\?&]"+e+"=([^&#]*)",t=new RegExp(i),n=t.exec(window.location.search),null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))},calculateIntersection=function(e,t,i,n){var o,r,h,c;return i=i||0,n=n||0,o=void 0,r=void 0,h={},c={},h.cx=e.x+i+(h.hw=e.width/2),h.cy=e.y+n+(h.hh=e.height/2),c.cx=t.x+(c.hw=t.width/2),c.cy=t.y+(c.hh=t.height/2),o=Math.abs(h.cx-c.cx)-(h.hw+c.hw),r=Math.abs(h.cy-c.cy)-(h.hh+c.hh),0>o&&0>r?{width:-o,height:-r}:null},calculateCollision=function(e,t,i,n){var o,r,h,c,l,a,d,u,g,s,m;for(n=n||{x:0,y:0},"x"!==t&&"y"!==t&&(t="x"),l="x"===t?"width":"height",a="x"===t?"y":"x",d="x"===t?"height":"width",o=getBounds(e,!0),r=void 0,c=null,h=0;!c&&h<i.length;)r=getBounds(i[h],!0),i[h].isVisible&&(c=calculateIntersection(o,r,n.x,n.y)),!c&&i[h].isVisible&&(s=o[t]<r[t]&&o[t]+n[t]>r[t],g=o[t]>r[t]&&o[t]+n[t]<r[t],m=!(o[a]+o[d]<r[a]||o[a]>r[a]+r[d]),(s||g)&&m?n[t]=r[t]-o[t]:h++);return c&&(u=Math.abs(n[t])/n[t],n[t]-=c[l]*u),c},getBounds=function(e,t){var i,n,o,r,h,c,l;if(i={x:1/0,y:1/0,width:0,height:0},e instanceof Container)for(r=object.children,l=r.length,o=void 0,n=void 0,n=0;l>n;)o=getBounds(r[n]),o.x<i.x&&(i.x=o.x),o.y<i.y&&(i.y=o.y),o.width>i.width&&(i.width=o.width),o.height>i.height&&(i.height=o.height),n++;else{if(h=void 0,c=void 0,e instanceof Bitmap)h=e.localToGlobal(0,0),c={width:e.image.width,height:e.image.height};else{if(!(e instanceof BitmapAnimation))return i;h=e.localToGlobal(0,0),c=e.spriteSheet._frames[e.currentFrame]}i.width=c.width*Math.abs(e.scaleX),i.x=e.scaleX>=0?h.x:h.x-i.width,i.height=c.height*Math.abs(e.scaleY),i.y=e.scaleX>=0?h.y:h.y-i.height}return t&&(i.x=i.x+(i.x>0?.5:-.5)|0,i.y=i.y+(i.y>0?.5:-.5)|0,i.width=i.width+(i.width>0?.5:-.5)|0,i.height=i.height+(i.height>0?.5:-.5)|0),i},nearestNeighborScale=function(e,t){var i,n,o,r,h,c,l,a,d,u,g,s,m;for(t=snapValue(t,.5),0>=t&&(t=.5),l=t+.99|0,d=document.createElement("canvas"),d.width=e.width,d.height=e.height,u=d.getContext("2d"),u.drawImage(e,0,0),g=u.getImageData(0,0,e.width,e.height).data,o=document.createElement("canvas"),o.width=e.width*t+1|0,o.height=e.height*t+1|0,r=o.getContext("2d"),c=0,m=0;m<e.height;){for(s=0;s<e.width;)a=g[c++],h=g[c++],n=g[c++],i=g[c++]/255,r.fillStyle="rgba("+a+","+h+","+n+","+i+")",r.fillRect(s*t,m*t,l,l),++s;++m}return o},snapValue=function(e,t){var i;return i=e/t+(e>0?.5:-.5)|0,i*t},getWidth=function(){return"number"==typeof window.innerWidth?window.innerWidth:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?document.documentElement.clientWidth:document.body&&(document.body.clientWidth||document.body.clientHeight)?document.body.clientWidth:void 0},getHeight=function(){return"number"==typeof window.innerWidth?window.innerHeight:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?document.documentElement.clientHeight:document.body&&(document.body.clientHeight||document.body.clientHeight)?document.body.clientHeight:void 0},Math.seededRandom=function(e,t){var i;return e=e||1,t=t||0,Math.seed=(9301*Math.seed+49297)%233280,i=Math.seed/233280,t+i*(e-t)},percentColors=[{pct:0,color:{r:0,g:255,b:0}},{pct:.8,color:{r:255,g:255,b:0}},{pct:1,color:{r:255,g:0,b:0}}],getColorForPercentage=function(e){var t,i,n,o,r,h,c,l;for(i=1;i<percentColors.length-1&&!(e<percentColors[i].pct);)i++;return n=percentColors[i-1],l=percentColors[i],h=l.pct-n.pct,c=(e-n.pct)/h,o=1-c,r=c,t={r:Math.floor(n.color.r*o+l.color.r*r),g:Math.floor(n.color.g*o+l.color.g*r),b:Math.floor(n.color.b*o+l.color.b*r)},"rgb("+[t.r,t.g,t.b].join(",")+")"};
//# sourceMappingURL=utils.min.js.map